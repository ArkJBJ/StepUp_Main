<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Config 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
 <mapper namespace="proj.stepUp.mapper.freeBoardMapper">
 	<select id="selectAll" resultType="FreeBoardVO" parameterType="searchVO">
 		select *
 			from free_tb b, user_tb u
 			where b.userIndex = u.userIndex
 			<if test='searchType != null and searchType eq "title"'>
 				and noticeTitle like concat('%',#{searchValue},'%')
 			</if>
 			<if test='searchType != null and searchType eq "content"'>
 				and freeCnt like concat('%',#{searchValue},'%')
 			</if>
 			<if test='searchType != null and searchType eq "writer"'>
 				and userNick like concat('%',#{searchValue},'%')
 			</if>
 	</select>
</mapper>